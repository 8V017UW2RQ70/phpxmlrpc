<?xml version="1.0"?>
<definitions name="XMLRPCDemoService-interface"
  targetNamespace="XMLRPCDemoServer"
  xmlns:tns="XMLRPCDemoServer"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
  xmlns:wsdl="http://www.w3.org/2003/06/wsdl"
  xmlns:whttp="http://www.w3.org/2003/06/wsdl/http"
  xmlns:xmlrpc="http://phpxmlrpc.sourceforge.net/wsdl/xmlrpc.xsd"
  xmlns="http://www.w3.org/2003/06/wsdl">


  <documentation>
    Defines the methods exposed by the XMLRPC demo server
  </documentation>


  <import location="xmlrpc.xsd" namespace="xmlrpc"/>


  <types>
  <schema targetNamespace="XMLRPCDemoServer"
    xmlns:tns="XMLRPCDemoServer"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:wsdl="http://www.w3.org/2003/06/wsdl"
    xmlns="http://www.w3.org/2001/XMLSchema">

    <!-- top-level elements -->
    <element name="methodCall" type="listMethodsRequestType"/>
    <element name="methodResponse" type="xmlrpc:ArrayMethodResponseType"/>

    <!-- takes either 0 or 1 params... -->
    <complexType name="listMethodsRequestType">
      <xsd:all>
        <xsd:element name="methodName" type="MethodNameType" fixed="system.Listmethods"/>
        <xsd:element name="params" minOccurs="0" maxOccurs="1">
          <xsd:complexType>
            <xsd:sequence>
              <xsd:element name="param" minOccurs="0" maxOccurs="1">
                <xsd:complexType>
                  <xsd:sequence>
                    <xsd:element name="value" type="xmlrpc:StringType"/>
                  </xsd:sequence>
                </xsd:complexType>
              </xsd:element>
            </xsd:sequence>
          </xsd:complexType>
        </xsd:element>
      </xsd:all>
    </complexType>

  </schema>
  </types>


  <message name="listMethodsRequest">
    <part name="Request" type="listMethodsRequestType"/>
  </message>

  <message name="listMethodsResponse">
    <part name="Response" type="xmlrpc:ArrayMethodResponseType"/>
  </message>


  <interface name="XMLRPCDemoServiceInterface">

    <!-- todo: how to have element MethodResponse declared twice, once for
         error responses, once for correct responses ? -->         
    <!--<fault name = "ErrorResponse"
           element = "ghns:invalidDataError"/>-->

    <operation name="system.listMethods"
               pattern="http://www.w3.org/2003/06/wsdl/in-out">
      <input message="listMethodsRequest" element="methodCall"/>
      <output message="listMethodsResponse" element="methodResponse"/>
      <!--<outfault messageLabel="Out" ref="tns:ErrorResponse"/>-->
    </operation>

  </interface>

  <binding name="XMLRPCDemoServiceBinding"
           interface="tns:XMLRPCDemoServiceInterface"
           type="http://www.w3.org/2003/06/wsdl/http"
           whttp:verbDefault="POST">

    <operation ref="tns:system.listMethods"
               whttp:inputSerialization="text/xml"
               whttp:outputSerialization="text/xml"
               whttp:faultSerialization="text/xml">
      <input message="listMethodsRequest"/>
      <output message="listMethodsResponse"/>
    </operation>

  </binding>


  <service name="XMLRPCDemoService"
           interface=""
           targetResource="../../xmlrpc/server.php">
    <port name="XMLRPCDemoServiceEndpoint"
          binding="tns:XMLRPCDemoServiceBinding"/>
  </service>


</definitions>